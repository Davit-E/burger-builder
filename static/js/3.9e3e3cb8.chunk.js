(this["webpackJsonpburger-builder"]=this["webpackJsonpburger-builder"]||[]).push([[3],{101:function(e,t,a){e.exports={Auth:"Auth_Auth__220n2",ErrorMessage:"Auth_ErrorMessage__12ElP",SignText:"Auth_SignText__2KauK"}},103:function(e,t,a){"use strict";a.r(t);var n=a(25),r=a(45),i=a(4),l=a(12),u=a(13),o=a(16),s=a(15),c=a(0),h=a.n(c),d=a(101),m=a.n(d),p=a(95),g=a(34),v=a(26),b=a(14),f=a(9),E=a(3),j=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){var e;Object(l.a)(this,a);for(var u=arguments.length,o=new Array(u),s=0;s<u;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={authForm:{email:{elemType:"input",elemConfig:{type:"email",placeholder:"Email"},value:"",validation:{required:!0},isValid:!1,touched:!1},password:{elemType:"input",elemConfig:{type:"password",placeholder:"Password"},value:"",validation:{required:!0},isValid:!1,touched:!1}},isSignIn:!0},e.checkValidity=function(e,t){var a=!0;return t.required&&(a=""!==e.trim()&&a),a},e.inputChangedHandler=function(t,a){var n=t.target.value;e.setState((function(t){var l=e.checkValidity(n,t.authForm[a].validation);return{authForm:Object(i.a)(Object(i.a)({},t.authForm),{},Object(r.a)({},a,Object(i.a)(Object(i.a)({},t.authForm[a]),{},{value:n,isValid:l,touched:!0})))}}))},e.authHandler=function(t){t.preventDefault();for(var a=!0,r=Object(i.a)({},e.state.authForm),l=0,u=Object.entries(e.state.authForm);l<u.length;l++){var o=Object(n.a)(u[l],2),s=o[0],c=o[1];r[s]=Object(i.a)(Object(i.a)({},e.state.authForm[s]),{},{touched:!0}),c.validation.required&&!c.isValid&&(a=!1)}a?e.props.onAuth(e.state.authForm.email.value,e.state.authForm.password.value,e.state.isSignIn):e.setState({authForm:r})},e.signSwitchHandler=function(){console.log("Hi"),e.setState({isSignIn:!e.state.isSignIn})},e}return Object(u.a)(a,[{key:"render",value:function(){for(var e=this,t=[],a=function(){var a=Object(n.a)(i[r],2),l=a[0],u=a[1];t.push(h.a.createElement(p.a,Object.assign({key:l},u,{changed:function(t){return e.inputChangedHandler(t,l)}})))},r=0,i=Object.entries(this.state.authForm);r<i.length;r++)a();var l="Sign In",u="Create account";this.state.isSignIn||(l="Sign Up",u="Sign in instead");var o=h.a.createElement(h.a.Fragment,null,h.a.createElement("h1",{className:m.a.SignText},l),h.a.createElement("form",{onSubmit:this.authHandler},t,h.a.createElement("p",{className:m.a.ErrorMessage},this.props.error),h.a.createElement(g.a,{btnType:"Success"},"Continue")),h.a.createElement(g.a,{btnType:"Danger",clicked:this.signSwitchHandler},u));this.props.loading&&(o=h.a.createElement(v.a,null));var s=null;return this.props.isAuth&&this.props.ordering?s=h.a.createElement(E.a,{to:"/checkout"}):this.props.isAuth&&(s=h.a.createElement(E.a,{to:"/burger-builder"})),h.a.createElement("div",{className:m.a.Auth},o,s)}}]),a}(c.Component);t.default=Object(b.b)((function(e){return{loading:e.auth.loading,error:e.auth.error,isAuth:null!==e.auth.userId,building:e.burger.building,ordering:e.burger.ordering}}),(function(e){return{onAuth:function(t,a,n){return e(f.b(t,a,n))}}}))(j)},95:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(96),l=a.n(i);t.a=function(e){var t=null,a=[l.a.Input],n=null;return!e.isValid&&e.validation.required&&e.touched&&(a.push(l.a.Invalid),n=r.a.createElement("p",{className:l.a.ValidationError},"Please enter a valid ",e.elemConfig.placeholder)),t="textarea"===e.elemType?r.a.createElement("textarea",Object.assign({className:a.join(" "),value:e.value},e.elemConfig,{onChange:e.changed})):"select"===e.elemType?r.a.createElement("select",{className:a.join(" "),value:e.value,onChange:e.changed},e.elemConfig.options.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.displayOptions)}))):r.a.createElement("input",Object.assign({className:a.join(" "),value:e.value},e.elemConfig,{onChange:e.changed})),r.a.createElement(r.a.Fragment,null,n,r.a.createElement("label",null,e.label),t)}},96:function(e,t,a){e.exports={Input:"Input_Input__13nT7",Invalid:"Input_Invalid__14qdl",ValidationError:"Input_ValidationError__3wz4Q"}}}]);
//# sourceMappingURL=3.9e3e3cb8.chunk.js.map