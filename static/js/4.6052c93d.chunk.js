(this["webpackJsonpburger-builder"]=this["webpackJsonpburger-builder"]||[]).push([[4],{102:function(e,t,a){e.exports={ContactData:"ContactData_ContactData__31rn2"}},104:function(e,t,a){"use strict";a.r(t);var r=a(45),n=a(25),o=a(4),i=a(12),l=a(13),u=a(16),c=a(15),d=a(0),s=a.n(d),p=a(34),m=a(102),v=a.n(m),h=a(18),g=a(46),f=a(26),b=a(95),O=a(14),j=a(9),y=a(3),C=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(i.a)(this,a);for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];return(e=t.call.apply(t,[this].concat(u))).state={orderForm:{name:{elemType:"input",elemConfig:{type:"text",placeholder:"Name"},value:"",validation:{required:!0},isValid:!1,touched:!1},email:{elemType:"input",elemConfig:{type:"email",placeholder:"Email"},value:"",validation:{required:!0},isValid:!1,touched:!1},street:{elemType:"input",elemConfig:{type:"text",placeholder:"Street"},value:"",validation:{required:!0},isValid:!1,touched:!1},zipCode:{elemType:"input",elemConfig:{type:"text",placeholder:"ZIP Code"},value:"",validation:{required:!0,minLength:5,maxLength:5},isValid:!1,touched:!1},deliveryMetod:{elemType:"select",elemConfig:{options:[{value:"fastest",displayOptions:"Fastest"},{value:"cheapest",displayOptions:"Cheapest"}]},value:"fastest",validation:{required:!1}}}},e.scrollToBottom=function(){e.el.scrollIntoView({behavior:"smooth"})},e.checkValidity=function(e,t){var a=!0;return t.required&&(a=""!==e.trim()&&a),t.minLength&&(a=e.replace(/\s/g,"").length>=t.minLength&&a),t.maxLength&&(a=e.replace(/\s/g,"").length<=t.maxLength&&a),a},e.orderHandler=function(t){t.preventDefault();for(var a=!0,r=Object(o.a)({},e.state.orderForm),i=0,l=Object.entries(e.state.orderForm);i<l.length;i++){var u=Object(n.a)(l[i],2),c=u[0],d=u[1];r[c]=Object(o.a)(Object(o.a)({},e.state.orderForm[c]),{},{touched:!0}),d.validation.required&&!d.isValid&&(a=!1)}if(a){var s={};for(var p in e.state.orderForm)s[p]=e.state.orderForm[p].value;var m={ingredients:e.props.ingredients,price:e.props.price.toFixed(2),userId:e.props.userId,orderData:s};e.props.onSendOrder(),e.props.onSendOrderSuccessful(m,e.props.token)}else e.setState({orderForm:r})},e.inputChangedHandler=function(t,a){var n=t.target.value;e.setState((function(t){var i=e.checkValidity(n,t.orderForm[a].validation);return{orderForm:Object(o.a)(Object(o.a)({},t.orderForm),{},Object(r.a)({},a,Object(o.a)(Object(o.a)({},t.orderForm[a]),{},{value:n,isValid:i,touched:!0})))}}))},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"render",value:function(){for(var e=this,t=[],a=function(){var a=Object(n.a)(o[r],2),i=a[0],l=a[1];t.push(s.a.createElement(b.a,Object.assign({key:i},l,{changed:function(t){return e.inputChangedHandler(t,i)}})))},r=0,o=Object.entries(this.state.orderForm);r<o.length;r++)a();var i=s.a.createElement("form",{onSubmit:this.orderHandler},t,s.a.createElement(p.a,{btnType:"Success"},"Order"));this.props.loading&&(i=s.a.createElement(f.a,null));var l=null;return this.props.orderSent&&(l=s.a.createElement(y.a,{to:"/"})),s.a.createElement("div",{id:"ContactData",className:v.a.ContactData},s.a.createElement("h4",null,"Enter your contact info:"),i,s.a.createElement("div",{ref:function(t){e.el=t}}),l)}}]),a}(d.Component);t.default=Object(O.b)((function(e){return{ingredients:e.burger.ingredients,price:e.burger.totalPrice,loading:e.order.loading,orderSent:e.order.orderSent,token:e.auth.token,userId:e.auth.userId,ordering:e.burger.ordering}}),(function(e){return{onSendOrder:function(){return e(j.j())},onSendOrderSuccessful:function(t,a){return e(j.k(t,a))}}}))(Object(g.a)(C,h.a))},95:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o=a(96),i=a.n(o);t.a=function(e){var t=null,a=[i.a.Input],r=null;return!e.isValid&&e.validation.required&&e.touched&&(a.push(i.a.Invalid),r=n.a.createElement("p",{className:i.a.ValidationError},"Please enter a valid ",e.elemConfig.placeholder)),t="textarea"===e.elemType?n.a.createElement("textarea",Object.assign({className:a.join(" "),value:e.value},e.elemConfig,{onChange:e.changed})):"select"===e.elemType?n.a.createElement("select",{className:a.join(" "),value:e.value,onChange:e.changed},e.elemConfig.options.map((function(e){return n.a.createElement("option",{key:e.value,value:e.value},e.displayOptions)}))):n.a.createElement("input",Object.assign({className:a.join(" "),value:e.value},e.elemConfig,{onChange:e.changed})),n.a.createElement(n.a.Fragment,null,r,n.a.createElement("label",null,e.label),t)}},96:function(e,t,a){e.exports={Input:"Input_Input__13nT7",Invalid:"Input_Invalid__14qdl",ValidationError:"Input_ValidationError__3wz4Q"}}}]);
//# sourceMappingURL=4.6052c93d.chunk.js.map