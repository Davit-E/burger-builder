{"version":3,"sources":["components/Order/Order.module.css","components/Order/Order.js","containers/Orders/Orders.js","containers/Orders/Orders.module.css"],"names":["module","exports","order","props","ingredients","Object","entries","key","value","charAt","toUpperCase","slice","className","classes","Order","price","Orders","state","orders","loading","this","token","axios","get","params","auth","orderBy","equalTo","userId","then","ordersArr","data","push","id","setState","catch","err","console","log","redirect","to","Spinner","map","Component","connect","withErrorHandler"],"mappings":"2GACAA,EAAOC,QAAU,CAAC,MAAQ,uB,8ICqBXC,EAnBD,SAACC,GAGb,IAFA,IAAIC,EAAc,eAElB,MAAyBC,OAAOC,QAAQH,EAAMC,aAA9C,eAA4D,CAAC,IAAD,sBAAlDG,EAAkD,KAA7CC,EAA6C,KAC1DJ,GAAW,WAAQG,EAAIE,OAAO,GAAGC,cAAgBH,EAAII,MAAM,GAAhD,aAAuDH,EAAvD,MAKb,OAFAJ,EAAcA,EAAYO,MAAM,GAAI,GAGlC,yBAAKC,UAAWC,IAAQC,OACtB,2BAAIV,GACJ,qCACS,8CAAgBD,EAAMY,MAAtB,S,uCCPTC,E,4MACJC,MAAQ,CACNC,OAAQ,GACRC,SAAS,G,kEAGU,IAAD,OACdC,KAAKjB,MAAMkB,OACbC,IACGC,IAAI,eAAgB,CACnBC,OAAQ,CACJC,KAAML,KAAKjB,MAAMkB,MACjBK,QAAS,WACTC,QAAQ,IAAD,OAAMP,KAAKjB,MAAMyB,OAAjB,QAGZC,MAAK,SAACX,GAGL,IAFA,IAAIY,EAAY,GAEhB,MAAyBzB,OAAOC,QAAQY,EAAOa,MAA/C,eAAsD,CAAC,IAAD,sBAA5CxB,EAA4C,KAAvCC,EAAuC,KACpDsB,EAAUE,KAAV,aAAiBC,GAAI1B,GAAQC,IAE/B,EAAK0B,SAAS,CAAEhB,OAAQY,EAAWX,SAAS,OAE7CgB,OAAM,SAACC,GACN,EAAKF,SAAS,CAAEf,SAAS,IACzBkB,QAAQC,IAAIF,Q,+BAMlB,IAAIG,EAAW,KACVnB,KAAKjB,MAAMkB,QACdkB,EAAW,kBAAC,IAAD,CAAUC,GAAG,oBAE1B,IAAItB,EAAS,kBAACuB,EAAA,EAAD,MAab,OAXKrB,KAAKH,MAAME,UACdD,EAASE,KAAKH,MAAMC,OAAOwB,KAAI,SAACxC,GAC9B,OACE,kBAACY,EAAD,CACEV,YAAaF,EAAME,YACnBW,MAAOb,EAAMa,MACbR,IAAKL,EAAM+B,SAMjB,yBAAKrB,UAAWC,IAAQG,QACrBE,EACAqB,O,GApDYI,aAiENC,uBAPS,SAAC3B,GACvB,MAAO,CACLI,MAAOJ,EAAMQ,KAAKJ,MAClBO,OAAQX,EAAMQ,KAAKG,UAIRgB,CAAyBC,YAAiB7B,EAAQM,O,mBCzEjEtB,EAAOC,QAAU,CAAC,OAAS","file":"static/js/6.ad4ec654.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Order\":\"Order_Order__3Cdlb\"};","import React from 'react';\r\nimport classes from './Order.module.css';\r\n\r\nconst order = (props) => {\r\n  let ingredients = 'Ingredients:';\r\n\r\n  for (let [key, value] of Object.entries(props.ingredients)) {\r\n    ingredients += ` ${key.charAt(0).toUpperCase() + key.slice(1)} (${value}),`;\r\n  }\r\n\r\n  ingredients = ingredients.slice(0, -1);\r\n\r\n  return (\r\n    <div className={classes.Order}>\r\n      <p>{ingredients}</p>\r\n      <p>\r\n        Price: <strong>{`USD ${props.price}$`}</strong>\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default order;\r\n","import React, { Component } from 'react';\r\nimport classes from './Orders.module.css';\r\nimport Order from '../../components/Order/Order';\r\nimport axios from '../../axios-orders';\r\nimport Spinner from '../../components/UI/Spinner/Spinner';\r\nimport withErrorHandler from '../../hoc/withErrorHandler/withErrorHandler';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nclass Orders extends Component {\r\n  state = {\r\n    orders: [],\r\n    loading: true,\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (this.props.token) {\r\n      axios\r\n        .get('/orders.json', {\r\n          params: {\r\n              auth: this.props.token,\r\n              orderBy: '\"userId\"',\r\n              equalTo: `\"${this.props.userId}\"`,\r\n          }\r\n        })\r\n        .then((orders) => {\r\n          let ordersArr = [];\r\n\r\n          for (let [key, value] of Object.entries(orders.data)) {\r\n            ordersArr.push({ id: key, ...value });\r\n          }\r\n          this.setState({ orders: ordersArr, loading: false });\r\n        })\r\n        .catch((err) => {\r\n          this.setState({ loading: false });\r\n          console.log(err);\r\n        });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    let redirect = null;\r\n    if (!this.props.token) {\r\n      redirect = <Redirect to='burger-builder' />;\r\n    }\r\n    let orders = <Spinner />;\r\n\r\n    if (!this.state.loading) {\r\n      orders = this.state.orders.map((order) => {\r\n        return (\r\n          <Order\r\n            ingredients={order.ingredients}\r\n            price={order.price}\r\n            key={order.id}\r\n          />\r\n        );\r\n      });\r\n    }\r\n    return (\r\n      <div className={classes.Orders}>\r\n        {orders}\r\n        {redirect}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    token: state.auth.token,\r\n    userId: state.auth.userId,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps)(withErrorHandler(Orders, axios));\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Orders\":\"Orders_Orders___98k6\"};"],"sourceRoot":""}