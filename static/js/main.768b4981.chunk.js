(this["webpackJsonpburger-builder"]=this["webpackJsonpburger-builder"]||[]).push([[0],[,function(e,t,n){"use strict";t.a={ADD_INGREDIENT:"ADD_INGREDIENT",REMOVE_INGREDIENT:"REMOVE_INGREDIENT",INIT_INGREDIENTS:"INIT_INGREDIENTS",FETCH_INGREDIENTS_FAILED:"FETCH_INGREDIENTS_FAILED",ORDERING:"ORDERING",NOT_ORDERING:"NOT_ORDERING",SEND_ORDER_START:"SEND_ORDER_START",SEND_ORDER_SUCCESSFUL:"SEND_ORDER_SUCCESSFUL",SEND_ORDER_FAILED:"SEND_ORDER_FAILED",INIT_ORDER:"INIT_ORDER",AUTH_START:"AUTH_START",AUTH_SUCCESS:"AUTH_SUCCESS",AUTH_FAIL:"AUTH_FAIL",AUTH_LOGOUT:"AUTH_LOGOUT",AUTH:"AUTH"}},,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"i",(function(){return l})),n.d(t,"e",(function(){return i})),n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"j",(function(){return d})),n.d(t,"k",(function(){return m})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"c",(function(){return I}));var a=n(1),r=n(15),o=function(e){return{type:a.a.ADD_INGREDIENT,ingredientName:e}},l=function(e){return{type:a.a.REMOVE_INGREDIENT,ingredientName:e}},i=function(){return function(e){var t=null;r.a.get("/ingredients/some.json").then((function(n){var r=n.data;t={};for(var o=0;o<r.length;o++){var l=r[o];t[Object.keys(l)[0]]=Object.values(l)[0]}e({type:a.a.INIT_INGREDIENTS,ingredients:t})})).catch((function(n){e({type:a.a.FETCH_INGREDIENTS_FAILED,ingredients:t})}))}},c=function(){return{type:a.a.ORDERING}},u=function(){return{type:a.a.NOT_ORDERING}},s=function(){return{type:a.a.INIT_ORDER}},d=function(){return{type:a.a.SEND_ORDER_START}},m=function(e,t){return function(n){r.a.post("/orders.json?auth="+t,e).then((function(){n({type:a.a.SEND_ORDER_SUCCESSFUL})})).catch((function(e){n({type:a.a.SEND_ORDER_FAILED})}))}},E=n(26),_=n.n(E),g=function(e,t,n){return{type:a.a.AUTH_SUCCESS,token:e,userId:t,userEmail:n}},p=function(){return localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("expirationDate"),{type:a.a.AUTH_LOGOUT}},f=function(e){return function(t){setTimeout((function(){t(p())}),1e3*e)}},b=function(e,t,n){return function(r){r({type:a.a.AUTH_START});var o={email:e,password:t,returnSecureToken:!0},l="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=";n||(l="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key="),_.a.post(l+"AIzaSyB_9h1E3D6pkhGrf-RUeSVhFSBiiklmqdw",o).then((function(t){var n=Date.now()+1e3*t.data.expiresIn;localStorage.setItem("token",t.data.idToken),localStorage.setItem("userId",t.data.localId),localStorage.setItem("userEmail",e),localStorage.setItem("expirationDate",n),r(g(t.data.idToken,t.data.localId,e)),r(f(t.data.expiresIn))})).catch((function(e){var t;console.log(e.response),r((t=e.response.data.error.message,{type:a.a.AUTH_FAIL,error:t}))}))}},I=function(){return function(e){var t=localStorage.getItem("token"),n=localStorage.getItem("userId"),a=localStorage.getItem("userEmail");if(t){var r=localStorage.getItem("expirationDate");r<=Date.now()?e(p()):(e(g(t,n,a)),e(f((r-Date.now())/1e3)))}else e(p())}}},,,function(e,t,n){e.exports={Shadow:"BurgerIngredient_Shadow__29AHU",BreadTop:"BurgerIngredient_BreadTop__3TV-E",BreadBottom:"BurgerIngredient_BreadBottom__1Dz_G",Tomato:"BurgerIngredient_Tomato__34Fbr",Onion:"BurgerIngredient_Onion__2oT7_",Meat:"BurgerIngredient_Meat__3tz3S",Salad:"BurgerIngredient_Salad__1lInQ",Cheese:"BurgerIngredient_Cheese__28d3R",drip:"BurgerIngredient_drip__kRm5g",Cheese_drip:"BurgerIngredient_Cheese_drip__3vr-k"}},,function(e,t,n){"use strict";var a=n(26),r=n.n(a).a.create({baseURL:"https://burger-builder-da45f.firebaseio.com/"});t.a=r},,,,function(e,t,n){e.exports={BurgerWrapper:"Burger_BurgerWrapper__22z4k",Burger:"Burger_Burger__37pR4"}},function(e,t,n){e.exports={SideDrawer:"SideDrawer_SideDrawer__1BhRP",Open:"SideDrawer_Open__pkgRT",Closed:"SideDrawer_Closed__1AOm0",Logo:"SideDrawer_Logo__1Y-q5"}},function(e,t,n){e.exports={BuildControl:"BuildControl_BuildControl__1inPj",Label:"BuildControl_Label__3YAfh",Less:"BuildControl_Less__FI681",More:"BuildControl_More__eD2Mr"}},function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(59),l=n.n(o);t.a=function(){return r.a.createElement("div",{className:l.a.Loader},"Loading...")}},,,function(e,t,n){"use strict";var a=n(12),r=n(0),o=n.n(r),l=n(13),i=n.n(l),c=function(e){var t={"bread-bottom":o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:i.a.BreadBottom}),o.a.createElement("div",{className:i.a.Cheese_drip}),o.a.createElement("div",{className:i.a.Shadow})),"bread-top":o.a.createElement("div",{className:i.a.BreadTop},o.a.createElement("span",null),o.a.createElement("span",null),o.a.createElement("span",null),o.a.createElement("span",null),o.a.createElement("span",null),o.a.createElement("span",null)),meat:o.a.createElement("div",{className:i.a.Meat}),cheese:o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:i.a.Cheese})),tomato:o.a.createElement("div",{className:i.a.Tomato}),onion:o.a.createElement("div",{className:i.a.Onion}),salad:o.a.createElement("div",{className:i.a.Salad})};return t[e.type]?t[e.type]:null},u=n(19),s=n.n(u);t.a=function(e){for(var t=[],n=0,r=Object.entries(e.ingredients);n<r.length;n++)for(var l=Object(a.a)(r[n],2),i=l[0],u=l[1],d=0;d<u;d++)t.push(o.a.createElement(c,{type:i,key:"".concat(u).concat(i).concat(d)}));0===t.length&&t.push(o.a.createElement("p",{key:"startAdding"},"Start adding!"));var m=[s.a.BurgerWrapper],E=[s.a.Burger];return e.isInBuilder&&(m.push(s.a.BurgerWrapperInBuilder),E.push(s.a.BurgerInBuilder)),o.a.createElement("div",{className:E.join(" ")},o.a.createElement(c,{type:"bread-top"}),t,o.a.createElement(c,{type:"bread-bottom"}))}},,function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(56),l=n.n(o);t.a=function(e){return e.show?r.a.createElement("div",{className:l.a.Backdrop,onClick:e.clicked}):null}},function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(27),l=n(38),i=n.n(l);t.a=r.a.memo((function(e){var t=[i.a.Modal];return e.show&&t.push(i.a.Show),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.join(" ")},e.children),r.a.createElement(o.a,{show:e.show,clicked:e.modalClosed}))}),(function(e,t){return e.show===t.show&&e.children===t.children}))},function(e,t,n){e.exports={Toolbar:"Toolbar_Toolbar__2FuQa",nav:"Toolbar_nav__27aWK",Logo:"Toolbar_Logo__3OqHf",DesktopOnly:"Toolbar_DesktopOnly__RiG9U"}},function(e,t,n){e.exports={BuildControls:"BuildControls_BuildControls__mPMEq",Content:"BuildControls_Content__8MTyQ",OrderButton:"BuildControls_OrderButton__sgppe",enable:"BuildControls_enable__q_AyB"}},function(e,t,n){e.exports={OrderSummary:"OrderSummary_OrderSummary__3uXbG",OrderHeader:"OrderSummary_OrderHeader__w6dlE",Ingredients:"OrderSummary_Ingredients__1AoEg"}},function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(39),l=n.n(o);t.a=function(e){var t=[l.a.Button,l.a[e.btnType]];return r.a.createElement("button",{onClick:e.clicked,className:t.join(" ")},e.children)}},,function(e,t,n){e.exports={NavigationItem:"NavigationItem_NavigationItem__swymw",active:"NavigationItem_active__1ho74"}},,,,function(e,t,n){e.exports={Modal:"Modal_Modal__1su-Q",Show:"Modal_Show__3sq-b"}},function(e,t,n){e.exports={Button:"Button_Button__2I4Rn",Success:"Button_Success__34OIE",Danger:"Button_Danger__2YUtZ"}},function(e,t,n){e.exports={BurgerBuilder:"BurgerBuilder_BurgerBuilder__3fs9D",BurgerWrapper:"BurgerBuilder_BurgerWrapper__yirTh"}},,function(e,t,n){"use strict";var a=n(12),r=n(0),o=n.n(r),l=n(28);t.a=function(e,t){return function(n){var i=Object(r.useState)(null),c=Object(a.a)(i,2),u=c[0],s=c[1],d=Object(r.useState)(null),m=Object(a.a)(d,2),E=m[0],_=m[1];Object(r.useEffect)((function(){var e=t.interceptors.request.use((function(e){return s(null),e})),n=t.interceptors.response.use((function(e){return e}),(function(e){s(e)}));return _(!0),function(){t.interceptors.request.eject(e),t.interceptors.response.eject(n)}}),[]);return E?o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,{show:u,modalClosed:function(){s(null)}},u?u.message:null),o.a.createElement(e,n)):null}}},,,,,,,,,,,function(e,t,n){e.exports={Logo:"Logo_Logo__afarv"}},function(e,t,n){e.exports={NavigationItems:"NavigationItems_NavigationItems__20Eu4"}},,function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__2g_dB"}},function(e,t,n){e.exports={DrawerToggle:"DrawerToggle_DrawerToggle__1D9Fj"}},function(e,t,n){e.exports={Layout:"Layout_Layout__1mS1j"}},function(e,t,n){e.exports={Loader:"Spinner_Loader__jEC7A",load6:"Spinner_load6__3v3Xw",round:"Spinner_round__1FaVl"}},,function(e,t,n){e.exports=n(90)},,,,,function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(23),l=n.n(o),i=(n(66),n(67),n(12)),c=n(53),u=n.n(c),s=n(25),d=function(){return r.a.createElement("a",{className:u.a.Logo,href:"/burger-builder"},r.a.createElement(s.a,{ingredients:{salad:1,tomato:1,onion:1,cheese:1,meat:1}}))},m=n(54),E=n.n(m),_=n(34),g=n.n(_),p=n(17),f=function(e){var t=e.isSideNav?e.clicked:null;return r.a.createElement("li",{className:g.a.NavigationItem,onClick:function(){t&&t(),e.isAuth&&e.logout()}},r.a.createElement(p.b,{to:e.link,activeClassName:g.a.active},e.children))},b=n(5),I=n(10),N=function(e){var t=Object(b.b)(),n=Object(b.c)((function(e){return null!==e.auth.userId})),a=r.a.createElement(f,{isSideNav:e.isSideNav,clicked:e.navClicked,link:"/auth"},"Sign In");return n&&(a=r.a.createElement(r.a.Fragment,null,r.a.createElement(f,{isSideNav:e.isSideNav,clicked:e.navClicked,link:"/orders"},"Orders"),r.a.createElement(f,{isSideNav:e.isSideNav,clicked:e.navClicked,isAuth:n,logout:function(){t(I.d()),t(I.g())},link:"/logout"},"Log Out"))),r.a.createElement("ul",{className:E.a.NavigationItems},r.a.createElement(f,{isSideNav:e.isSideNav,clicked:e.navClicked,link:"/burger-builder"},"Burger Builder"),a)},v=n(27),O=n(20),S=n.n(O),T=function(e){var t=e.open?S.a.Open:S.a.Closed,n=[S.a.SideDrawer,t];return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{show:e.open,clicked:e.clicked}),r.a.createElement("div",{className:n.join(" ")},r.a.createElement("div",{className:S.a.Logo},r.a.createElement(d,null)),r.a.createElement("nav",null,r.a.createElement(N,{isSideNav:e.open,navClicked:e.navClicked}))))},h=n(57),D=n.n(h),R=function(e){return r.a.createElement("div",{className:D.a.DrawerToggle,onClick:e.openDrawer},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},B=n(29),C=n.n(B),k=function(e){return r.a.createElement("header",{className:C.a.Toolbar},r.a.createElement("div",{className:C.a.Logo},r.a.createElement(d,null)),r.a.createElement(R,{openDrawer:e.openDrawer}),r.a.createElement("nav",{className:C.a.DesktopOnly},r.a.createElement(N,null)))},y=n(58),A=n.n(y),j=function(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),o=n[0],l=n[1],c=function(){l((function(e){return!e}))};return r.a.createElement("div",{className:A.a.Layout},r.a.createElement(k,{openDrawer:c}),r.a.createElement(T,{open:o,clicked:c,navClicked:c}),r.a.createElement("main",null,e.children))},L=n(3),w=n(22),U=n(4),F=n(30),G=n.n(F),x=n(21),H=n.n(x),M=function(e){return r.a.createElement("div",{className:H.a.BuildControl},r.a.createElement("div",{className:H.a.Label},e.label),r.a.createElement("button",{className:H.a.Less,disabled:e.disabled,onClick:function(){return e.removed(e.type)}},"-"),r.a.createElement("button",{className:H.a.More,onClick:function(){return e.added(e.type)}},"+"))},P=[{label:"Salad",type:"salad"},{label:"Tomato",type:"tomato"},{label:"Onion",type:"onion"},{label:"Cheese",type:"cheese"},{label:"Meat",type:"meat"}],W=function(e){var t=P.map((function(t){return r.a.createElement(M,{key:t.label,label:t.label,type:t.type,added:e.ingredientAdded,removed:e.ingredientRemoved,disabled:e.disabled[t.type]})}));return r.a.createElement("div",{className:G.a.BuildControls},r.a.createElement("div",{className:G.a.Content},t,r.a.createElement("p",null,"Current Price: ",e.price.toFixed(2),"$"),r.a.createElement("button",{onClick:e.ordered,className:G.a.OrderButton,disabled:!e.purchasable},"Order")))},q=n(28),z=n(32),V=n(31),Y=n.n(V),Q=function(e){var t=Object.entries(e.ingredients).map((function(e){var t=Object(i.a)(e,2),n=t[0],a=t[1];return r.a.createElement("li",{key:n+a},r.a.createElement("strong",null,r.a.createElement("span",{style:{textTransform:"capitalize"}},n),":")," ",a)}));return r.a.createElement("div",{className:Y.a.OrderSummary},r.a.createElement("h1",{className:Y.a.OrderHeader},"Your Order"),r.a.createElement("ul",{style:{padding:"none"},className:Y.a.Ingredients},t),r.a.createElement("p",null,"Total Price: ",e.price.toFixed(2),"$"),r.a.createElement("p",null,"Continue to Checkout?"),r.a.createElement("div",null,r.a.createElement(z.a,{btnType:"Danger",clicked:e.purchaseCanceled},"CANCEL"),r.a.createElement(z.a,{btnType:"Success",clicked:e.purchaseContinued},"CONTINUE")))},X=n(15),$=n(42),J=n(40),K=n.n(J),Z=Object($.a)((function(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),o=n[0],l=n[1],c=Object(b.b)(),u=Object(b.c)((function(e){return e.burger.ingredients})),d=Object(b.c)((function(e){return e.burger.totalPrice})),m=Object(b.c)((function(e){return e.burger.error})),E=Object(b.c)((function(e){return e.order.orderSent})),_=Object(b.c)((function(e){return null!=e.auth.userId})),g=Object(b.c)((function(e){return e.burger.building}));Object(a.useEffect)((function(){g&&null!==u&&!E||(c(I.g()),c(I.f()),c(I.e()))}),[]);var p=function(){l(!1)},f=null,N=m?r.a.createElement("p",null,"Ingredients can't be loaded..."):r.a.createElement(w.a,null);if(u){var v=Object(U.a)({},u);for(var O in v)v[O]=v[O]<=0;f=r.a.createElement(Q,{ingredients:u,price:d,purchaseCanceled:p,purchaseContinued:function(){c(I.h());var t=_?"/checkout":"/auth";e.history.push({pathname:t})}}),N=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:K.a.BurgerWrapper},r.a.createElement(s.a,{ingredients:u,isInBuilder:!0})),r.a.createElement(W,{ingredientAdded:function(e){return c(I.a(e))},ingredientRemoved:function(e){return c(I.i(e))},disabled:v,price:d,purchasable:function(e){return Object.values(e).some((function(e){return e>0}))}(u),ordered:function(){l(!0)}}))}return r.a.createElement("div",{className:K.a.BurgerBuilder},r.a.createElement(q.a,{show:o,modalClosed:p},f),N)}),X.a),ee=Object(a.lazy)((function(){return n.e(5).then(n.bind(null,101))})),te=Object(a.lazy)((function(){return n.e(6).then(n.bind(null,102))})),ne=Object(a.lazy)((function(){return n.e(4).then(n.bind(null,100))})),ae=function(){var e=Object(b.b)();return Object(a.useEffect)((function(){e(I.c())}),[e]),r.a.createElement("div",{className:"App"},r.a.createElement(j,null,r.a.createElement(a.Suspense,{fallback:r.a.createElement(w.a,null)},r.a.createElement(L.d,null,r.a.createElement(L.b,{path:"/burger-builder",component:Z}),r.a.createElement(L.b,{path:"/checkout",component:ee}),r.a.createElement(L.b,{path:"/orders",component:te}),r.a.createElement(L.b,{path:"/auth",component:ne}),r.a.createElement(L.a,{from:"/",to:"burger-builder"})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var re=n(14),oe=n(60),le=n(1),ie={ingredients:null,totalPrice:4,error:!1,building:!1,ordering:!1},ce={salad:.3,cheese:.8,meat:1.3,tomato:.5,onion:.3},ue=function(e,t,n,a){return n[t.ingredientName]++,a=e.totalPrice+ce[t.ingredientName],Object(U.a)(Object(U.a)({},e),{},{ingredients:n,totalPrice:a,building:!0})},se=function(e,t,n,a){if(!(e.ingredients[t.ingredientName]<=0))return n[t.ingredientName]--,a=e.totalPrice-ce[t.ingredientName],Object(U.a)(Object(U.a)({},e),{},{ingredients:n,totalPrice:a})},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0,n=Object(U.a)({},e.ingredients),a=0;switch(t.type){case le.a.ADD_INGREDIENT:return ue(e,t,n,a);case le.a.REMOVE_INGREDIENT:return se(e,t,n,a);case le.a.INIT_INGREDIENTS:return{totalPrice:4,ingredients:t.ingredients,error:!1,building:!1,ordering:!1};case le.a.FETCH_INGREDIENTS_FAILED:return Object(U.a)(Object(U.a)({},e),{},{ingredients:t.ingredients,error:!0});case le.a.ORDERING:return Object(U.a)(Object(U.a)({},e),{},{ingredients:e.ingredients,ordering:!0});case le.a.NOT_ORDERING:return Object(U.a)(Object(U.a)({},e),{},{ingredients:null,ordering:!1});default:return e}},me={loading:!1,orderSent:!1},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le.a.SEND_ORDER_START:return{loading:!0,orderSent:!1};case le.a.SEND_ORDER_SUCCESSFUL:return{loading:!1,orderSent:!0};case le.a.SEND_ORDER_FAILED:return Object(U.a)(Object(U.a)({},e),{},{loading:!1});case le.a.INIT_ORDER:return{loading:!1,orderSent:!1};default:return e}},_e={token:null,userId:null,userEmail:null,error:null,loading:!1},ge={EMAIL_NOT_FOUND:"Email not found!",INVALID_PASSWORD:"Invalid password!",USER_DISABLED:"User is disabled!",EMAIL_EXISTS:"Email already exists!",OPERATION_NOT_ALLOWED:"Operation is not allowed!",TOO_MANY_ATTEMPTS_TRY_LATER:"Too many attempts, please try later..."},pe=function(e){return{token:e.token,userId:e.userId,userEmail:e.userEmail,error:null,loading:!1}},fe=function(e,t){var n=ge[t.error];return Object(U.a)(Object(U.a)({},e),{},{error:n,loading:!1})},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le.a.AUTH_START:return{token:null,userId:null,userEmail:null,error:null,loading:!0};case le.a.AUTH_SUCCESS:return pe(t);case le.a.AUTH_FAIL:return fe(e,t);case le.a.AUTH_LOGOUT:return{token:null,userId:null,userEmail:null,error:null,loading:!1};default:return e}},Ie=Object(re.c)({burger:de,order:Ee,auth:be}),Ne=re.d,ve=Object(re.e)(Ie,Ne(Object(re.a)(oe.a))),Oe=r.a.createElement(r.a.StrictMode,null,r.a.createElement(b.a,{store:ve},r.a.createElement(p.a,null,r.a.createElement(ae,null))));l.a.render(Oe,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[61,1,2]]]);
//# sourceMappingURL=main.768b4981.chunk.js.map